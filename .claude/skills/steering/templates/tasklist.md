# タスクリスト

## 🚨 タスク完全完了の原則

**このファイルの全タスクが完了するまで作業を継続すること**

### 必須ルール
- **全てのタスクを`[x]`にすること**
- 「時間の都合により別タスクとして実施予定」は禁止
- 「実装が複雑すぎるため後回し」は禁止
- 未完了タスク（`[ ]`）を残したまま作業を終了しない

### 実装可能なタスクのみを計画
- 計画段階で「実装可能なタスク」のみをリストアップ
- 「将来やるかもしれないタスク」は含めない
- 「検討中のタスク」は含めない

### タスクスキップが許可される唯一のケース
以下の技術的理由に該当する場合のみスキップ可能:
- 実装方針の変更により、機能自体が不要になった
- アーキテクチャ変更により、別の実装方法に置き換わった
- 依存関係の変更により、タスクが実行不可能になった

スキップ時は必ず理由を明記:
```markdown
- [x] ~~タスク名~~（実装方針変更により不要: 具体的な技術的理由）
```

### タスクが大きすぎる場合
- タスクを小さなサブタスクに分割
- 分割したサブタスクをこのファイルに追加
- サブタスクを1つずつ完了させる

---

## フェーズ1: {フェーズ名（例: Domain層の実装）}

- [ ] {タスク1（例: HpSystem クラスを実装）}
  - [ ] {サブタスク1-1（例: HP の加算・減算メソッド）}
  - [ ] {サブタスク1-2（例: HP の上限・下限チェック）}

- [ ] {タスク2（例: ScoreManager クラスを実装）}
  - [ ] {サブタスク2-1}
  - [ ] {サブタスク2-2}

## フェーズ2: {フェーズ名（例: Presentation層の実装）}

- [ ] {タスク1（例: PlayerController MonoBehaviour を実装）}
  - [ ] {サブタスク1-1（例: Awake() でコンポーネントをキャッシュ）}
  - [ ] {サブタスク1-2（例: Update() で入力を検知してDomain層を呼び出す）}

- [ ] {タスク2（例: HpView MonoBehaviour を実装）}

## フェーズ3: 品質チェックと修正

- [ ] EditModeテストが全てパスすることを確認
  - [ ] Unity Test Runner でテストを実行（EditMode タブ）
  - [ ] CLIで実行する場合: `Unity -batchmode -runTests -testPlatform EditMode -projectPath . -testResults results.xml`
- [ ] Domain層がUnityEngine名前空間に依存していないことを確認
- [ ] Update()内にGCアロケーションがないことを確認（Profilerで確認）

## フェーズ4: ドキュメント更新

- [ ] 必要に応じてドキュメントを更新（`docs/functional-design.md` 等）
- [ ] 実装後の振り返り（このファイルの下部に記録）

---

## 実装後の振り返り

### 実装完了日
{YYYY-MM-DD}

### 計画と実績の差分

**計画と異なった点**:
- {計画時には想定していなかった技術的な変更点}
- {実装方針の変更とその理由}

**新たに必要になったタスク**:
- {実装中に追加したタスク}
- {なぜ追加が必要だったか}

**技術的理由でスキップしたタスク**（該当する場合のみ）:
- {タスク名}
  - スキップ理由: {具体的な技術的理由}
  - 代替実装: {何に置き換わったか}

**⚠️ 注意**: 「時間の都合」「難しい」などの理由でスキップしたタスクはここに記載しないこと。全タスク完了が原則。

### 学んだこと

**技術的な学び**:
- {実装を通じて学んだ技術的な知見（Unity・C#・URP 等）}
- {新しく使った技術やパターン（ObjectPool、ScriptableObject 等）}

**プロセス上の改善点**:
- {タスク管理で良かった点}
- {ステアリングファイルの活用方法}

### 次回への改善提案
- {次回の機能追加で気をつけること}
- {より効率的な実装方法}
- {タスク計画の改善点}
