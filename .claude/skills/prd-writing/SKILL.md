---
name: prd-writing
description: Unityゲームのプロダクト要求定義書(PRD)を作成するための詳細ガイドとテンプレート。PRD作成時にのみ使用。
allowed-tools: Read, Write
---

# Unity ゲーム PRD作成スキル

このスキルは、Unityで開発するゲームの高品質なプロダクト要求定義書(PRD)を作成するための詳細ガイドです。

## 前提条件

PRD作成を開始する前に、以下が完了している必要があります:

### アイデアの壁打ちが完了している

ゲームのアイデアについて、ユーザー自身がClaude Codeとの対話を通じてブラッシュアップを完了している必要があります。

### docs/ideas/initial-requirements.md が作成されている

**重要**: 壁打ちの内容は、ユーザーが以下のファイルに保存する必要があります:

**ファイルパス**: `docs/ideas/initial-requirements.md`

このファイルには以下の内容が含まれている必要があります:
- ゲームの基本的なアイデアとジャンル
- 解決したいプレイヤー体験の課題
- ターゲットプレイヤーの概要
- 実装したいコアゲームメカニクス
- MVPの範囲（最初にリリースする機能）

PRD作成時には、このファイルの内容を参照して詳細化を行います。

## 既存ドキュメントの優先順位

**重要**: `docs/product-requirements.md` に既存のPRDがある場合、
以下の優先順位に従ってください:

1. **既存のPRD (`docs/product-requirements.md`)** - 最優先
   - プロジェクト固有の要件が記載されている
   - このスキルのガイドより優先する

2. **このスキルのガイド** - 参考資料
   - 汎用的なテンプレートと例
   - 既存PRDがない場合、または補足として使用

**新規作成時**: このスキルのテンプレートとガイドを参照
**更新時**: 既存PRDの構造と内容を維持しながら更新

## 出力先

作成したPRDは以下に保存してください:

```
docs/product-requirements.md
```

## テンプレートの参照

PRDを作成する際は、次のテンプレートを使用してください: ./template.md

## PRD作成プロセス

### 1. initial-requirements.md の確認

まず、ユーザーが作成した初期要求仕様を確認します:

```bash
Read('docs/ideas/initial-requirements.md')
```

### 2. プロジェクト構成の確認

Unityプロジェクトの現状を把握します:

```bash
Read('CLAUDE.md')
```

### 3. PRDドラフトの生成

initial-requirements.mdの内容をもとに、テンプレートに従ってPRDを生成します。

### 4. PRDのレビューと改善

生成されたPRDを以下の観点でレビューします:

#### レビュー観点

1. ゲームビジョンは明確か
2. ターゲットプレイヤーは具体的か
3. 成功指標は測定可能か（プレイヤー継続率、セッション時間など）
4. コアゲームループは実装可能なレベルまで詳細化されているか
5. Unity/URP固有の技術要件は明記されているか
6. パフォーマンス目標（フレームレート、メモリ）は具体的か

#### レビュー結果の評価基準

生成したPRDは以下の形式で評価します:

**✅ 強み**
- 明確なゲームビジョンが具体的に記述されている
- コアゲームループが実装レベルまで詳細化されている
- KPIが定量的な指標で定義されている

**⚠️ 改善が必要な点**

機能要件の曖昧さ:
- 問題: 具体的なゲームメカニクスの仕様が不明確な箇所がある
- 推奨: 具体的なゲームパラメータやエラーハンドリングを明記

成功指標の測定方法:
- 問題: 測定方法が不明確
- 推奨: 測定方法と計測タイミングを明記

### 5. レビュー後の改善

レビューで指摘された問題を一つずつ確認し、具体化が必要な箇所を改善します:

1. 指摘された問題を一つずつ確認
2. 具体化が必要な箇所を改善
3. 改善後、再度レビューを実施
4. 問題がなくなるまで繰り返す

**注意点**:
- AIのレビューを鵜呑みにせず、最終的な判断は必ず人間が行う
- ゲームデザインの判断はユーザーが行う
- 改善提案の妥当性を人間が検証する

## PRD作成の重要なポイント

### 1. 具体性と測定可能性

すべての要件は具体的で測定可能でなければなりません。

**悪い例**:
- ゲームは楽しい必要がある
- 動作が快適である必要がある

**良い例**:
- 7日間プレイヤー継続率: 40%以上（チュートリアル完了後）
- フレームレート: 60fps安定（iPhone 12以上 / PC GTX 1060以上）

### 2. プレイヤー中心設計

すべての機能は、明確なプレイヤー体験を向上させるものでなければなりません。

**ユーザーストーリーのフォーマット**:
```
[プレイヤー]として、[目的]のために、[機能]が欲しい
```

**例**:
```
カジュアルゲーマーとして、すき間時間を楽しみたいので、
1プレイ3分以内で完結するゲームセッションが欲しい
```

### 3. 優先順位の明確化

すべての機能に優先度を設定します:

- **P0(必須)**: MVP(Minimum Viable Product)に含める機能。これがないとゲームとして成立しない
- **P1(重要)**: 初期リリース後すぐに追加すべき機能
- **P2(できれば)**: 将来的に追加を検討する機能

## PRDの主要セクション詳細

### 1. ゲーム概要

#### 構成要素

1. **タイトル**: ゲームタイトルとキャッチコピー
2. **ゲームコンセプト**: 3つの主要コンセプト
3. **ゲームビジョン**: 目指すプレイヤー体験を3-5文で
4. **ジャンル・プラットフォーム**: ジャンルと対応プラットフォーム

#### 例

```markdown
### タイトル
**Dungeon Rush** - スキマ時間で遊べる1分間ローグライト

### ゲームコンセプト
- 1プレイ1分のスピード感: テンポよくダンジョンを攻略する達成感
- シンプルな操作、奥深い戦略: タップ操作で誰でも遊べるが、装備組み合わせで戦略が広がる
- 毎回違う体験: ランダム生成ダンジョンで飽きのこないリプレイ性

### ゲームビジョン
通勤中や休憩中のスキマ時間に、完結した達成感を提供するローグライトゲーム。
1プレイ60秒以内で終わるテンポ感と、毎回変わるダンジョン生成で何度でも遊べる体験を実現する。
```

### 2. ターゲットプレイヤー（ペルソナ）

#### 必須要素

1. **基本属性**: 年齢、ゲーム経験
2. **プレイスタイル**: よく遊ぶジャンル・プラットフォーム
3. **現在の課題**: 既存ゲームで満たされていないニーズ
4. **期待する体験**: どんな体験をしたいか
5. **1日の典型的なゲームプレイ時間と状況**

#### 例

```markdown
### プライマリーペルソナ: 田中さん（28歳、会社員）
- 平日は通勤電車で10〜15分ゲームをする
- モバイルゲームをメインにプレイ
- 長時間プレイが必要なゲームは続かない
- 短時間でも達成感が欲しい
- 電車内で片手でプレイできることが重要
```

### 3. 成功指標（KPI）

#### ゲーム固有のKPI例

```markdown
### プライマリーKPI
- 7日間プレイヤー継続率: 40%以上（リリース1ヶ月後）
- 平均セッション数: 1日3回以上（アクティブユーザー）
- チュートリアル完了率: 80%以上

### セカンダリーKPI
- 平均プレイ時間: 1セッション5分以上
- ストア評価: 4.0以上（100件評価後）
- クラッシュ率: 0.1%以下
```

### 4. 機能要件

#### コアゲームループ（MVP）

各機能には以下を含めます:
- プレイヤーストーリー
- 受け入れ条件（チェックリスト形式）
- 優先度（P0/P1/P2）

**フォーマット**:
```markdown
### [機能名]

プレイヤーストーリー:
[プレイヤー]として、[目的]のために、[機能]が欲しい

受け入れ条件:
- [ ] 条件1（測定可能）
- [ ] 条件2（測定可能）

優先度: P0(必須) / P1(重要) / P2(できれば)
```

### 5. Unity/URP 技術要件

Unity固有の技術要件を明記します:

```markdown
### Unity バージョン・構成
- Unity バージョン: [バージョン]
- レンダーパイプライン: URP（Universal Render Pipeline）
- スクリプトアセンブリ:
  - `Assets/Scripts/Sample/` → `Sample` アセンブリ（プロダクションコード）
  - `Assets/Tests/` → `Tests.EditMode` アセンブリ（EditModeテスト）

### 対応プラットフォーム
- ターゲット: [PC / iOS / Android / WebGL など]
- 最小動作環境: [スペック]

### パフォーマンス目標
- フレームレート: 60fps安定（ターゲット端末で）
- メモリ使用量: [MB]以下
- ロード時間: [秒]以下（初回起動）
```

### 6. 非機能要件

測定可能な形で記述します:

**例**:
```markdown
### パフォーマンス
- フレームレート: 60fps安定（iPhone 12 / GTX 1060以上）
- メモリ使用量: 512MB以下
- 初回起動ロード時間: 5秒以内

### ユーザビリティ
- チュートリアルなしで基本操作を1分以内に習得できる
- 全UIがタップ/クリックで操作完結できる

### 信頼性
- クラッシュ率: 0.1%以下
- セーブデータ損失ゼロ（自動セーブ）

### テスト可能性（Unity固有）
- コアロジックはEditModeテストでカバー
- テストカバレッジ: コアゲームロジック80%以上
```

## 品質基準とチェックポイント

PRDの品質を確保するため、以下のチェックポイントを確認してください:

### ゲームビジョンと目標
- [ ] ゲームビジョンが明確で測定可能か
- [ ] ターゲットプレイヤーに提供する体験が定義されているか
- [ ] ジャンルとプラットフォームが明確か

### ターゲットプレイヤー
- [ ] ペルソナが具体的に定義されているか
- [ ] プレイスタイルと現在の課題が明確か
- [ ] 1日のゲームプレイ状況が記述されているか

### 成功指標
- [ ] SMART原則に従ったKPIが定義されているか
- [ ] ゲーム固有の指標（継続率、セッション時間）が含まれているか
- [ ] 達成期限が設定されているか

### 機能要件
- [ ] コアゲームループが明確に定義されているか
- [ ] すべての機能がプレイヤーストーリー形式で記述されているか
- [ ] 受け入れ条件が測定可能な形で定義されているか
- [ ] 優先度（P0/P1/P2）が明確に設定されているか

### Unity/URP技術要件
- [ ] Unityバージョンとレンダーパイプラインが明記されているか
- [ ] 対応プラットフォームと最小動作環境が定義されているか
- [ ] パフォーマンス目標（フレームレート、メモリ）が数値で定義されているか
- [ ] アセンブリ構成（Sample / Tests.EditMode）が記載されているか

### 非機能要件
- [ ] フレームレート目標が具体的な数値で定義されているか
- [ ] クラッシュ率・セーブデータ信頼性が明確か
- [ ] テスト方針（EditModeテスト）が記載されているか

## まとめ

Unity向けPRD作成の成功のポイント:

1. **initial-requirements.md をベースに作成**: ユーザーが作成した壁打ち内容を参照
2. **具体性と測定可能性**: すべての要件を明確に（特にフレームレート・継続率）
3. **プレイヤー中心**: プレイヤーの体験を向上させる機能のみ
4. **優先順位の明確化**: P0/P1/P2で分類
5. **Unity固有の技術要件を明記**: URP、アセンブリ構成、プラットフォーム
6. **テスト可能性を考慮**: EditModeテストでカバーできる設計
